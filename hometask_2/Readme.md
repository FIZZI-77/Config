# Визуализатор графа зависимостей npm-пакетов

## Общее описание
Этот проект реализует инструмент командной строки для визуализации графа зависимостей npm-пакетов, включая транзитивные зависимости. Граф зависимостей создаётся в формате **PlantUML** и выводится на экран в виде графического изображения.

Инструмент полезен для анализа зависимостей JavaScript-пакетов, позволяя легко визуализировать их структуру.

---

## Функциональность
Визуализатор предоставляет следующие функции:
1. Извлечение зависимостей указанного npm-пакета без использования сторонних средств.
2. Рекурсивное построение транзитивных зависимостей.
3. Генерация графа зависимостей в формате **PlantUML**.
4. Отображение графа зависимостей в виде изображения с использованием заданного визуализатора.

---

## Структура файлов
Проект состоит из следующих файлов:
- **`visualize_dependencies.py`**: Основной скрипт для визуализации зависимостей.
- **`test_visualizer.py`**: Модуль с тестами для функций визуализатора.
- **`requirements.txt`**: Список необходимых зависимостей Python.

---

## Описание функций

### Основные функции:

1. **`fetch_package_dependencies(package_name)`**  
   Извлекает зависимости указанного npm-пакета.  
   **Параметры**:
   - `package_name` (строка): Имя анализируемого пакета.  
   **Возвращает**: Словарь зависимостей с их версиями.

2. **`build_dependency_graph(package_name, visited=None)`**  
   Рекурсивно строит граф зависимостей, включая транзитивные зависимости.  
   **Параметры**:
   - `package_name` (строка): Имя анализируемого пакета.  
   - `visited` (множество): Список уже обработанных пакетов (используется для предотвращения зацикливания).  
   **Возвращает**: Словарь с зависимостями.

3. **`generate_plantuml(graph)`**  
   Генерирует представление графа зависимостей в формате PlantUML.  
   **Параметры**:
   - `graph` (словарь): Граф зависимостей.  
   **Возвращает**: Строку с кодом PlantUML.

4. **`visualize_with_plantuml(plantuml_code, visualizer_path)`**  
   Создаёт графическое изображение графа зависимостей.  
   **Параметры**:
   - `plantuml_code` (строка): Код PlantUML.  
   - `visualizer_path` (строка): Путь к программе PlantUML.  
   **Результат**: Граф выводится на экран.

---

### Запуск программы 

```bash
python main.py --package-name express
```

![График зависимостей в нашем файле](Снимок4.PNG)

### Запуск тестов 

```bash
pytest
```
![результаты тестов](Снимок5.PNG)